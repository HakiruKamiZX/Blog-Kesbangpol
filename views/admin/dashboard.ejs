<div class="admin-title">
    <h2>Post</h2>
    <a href="/add-post" class="btn">+ add new</a>
</div>

<div class="articles__container">
    <% data.forEach(function(post) { %>
      <div class="article-card">
        <h3 class="article-title"><%= post.title %></h3>
        <p class="article-meta"><%= post.createdAt.toDateString() %></p>

        <!-- Show only the first 20 words of the article body -->
        <p class="article-excerpt">
          <% let words = post.body.split(' '); %>
          <%= words.slice(0, 20).join(' ') %>...
        </p>
            <div class="admin-post-controls">
                <a href="/edit-post/<%= post._id %>" class="btn">Edit</a>

                <form action="/delete-post/<%= post._id %>?_method=DELETE"  method="POST">
                    <input type="submit" value="Delete" class="btn-delete">
                </form>
            </div>

        </div> 
        
     
    <% }) %>

    
</div>

<div class="pagination">
    <% if (current > 1) { %>
      <a href="?page=<%= current - 1 %>" class="prev">Previous</a>
    <% } %>
    
    <% if (nextPage) { %>
      <a href="?page=<%= nextPage %>" class="next">Next</a>
    <% } %>
  </div>